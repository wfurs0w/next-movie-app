(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[937],{3747:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/[id]",function(){return r(7980)}])},5141:function(e,s,r){"use strict";var t=r(5893),a=r(357),i=r.n(a),n=r(9583),l=r(851),c=r(8063),o=r(5005),d=r(1330),h=r(7294),x=r(1664),u=r.n(x),m=r(9008),j=r.n(m),f=r(1163);let g=e=>{let{handleLogOut:s,favorites:r}=e,[a,x]=(0,h.useState)(!1),[m,g]=(0,h.useState)([]),b=(0,f.useRouter)(),p="Next TV";"/search"===b.pathname&&(p="Search - Next TV"),(0,h.useEffect)(()=>{let e=null==localStorage?void 0:localStorage.getItem("favorites");e&&g(JSON.parse(e))},[r]);let v=()=>{x(!a)},N=e=>{let s=m.filter(s=>s.imdbID!==e.imdbID);g(s),null==localStorage||localStorage.setItem("favorites",JSON.stringify(s))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j(),{children:(0,t.jsx)("title",{children:p})}),(0,t.jsxs)("header",{children:[(0,t.jsx)(l.Z,{bg:"dark",variant:"dark",expand:"lg",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(u(),{href:"/search",className:"text-decoration-none",children:(0,t.jsxs)(l.Z.Brand,{children:[(0,t.jsx)(n.RsC,{size:20})," ",(0,t.jsx)("span",{children:"Next TV"})]})}),(0,t.jsx)(l.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,t.jsxs)(l.Z.Collapse,{id:"basic-navbar-nav",children:[(0,t.jsx)(c.Z,{className:"me-auto"}),(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(c.Z.Link,{onClick:v,children:[(0,t.jsx)(n.$0H,{size:20})," ",m.length]}),(0,t.jsx)(c.Z.Link,{href:"/search",children:(0,t.jsx)(n.Xws,{size:20})}),(0,t.jsx)(o.Z,{variant:"danger",onClick:s,children:"LogOut"})]})]})]})}),a&&(0,t.jsx)("ul",{className:"list-group bg-dark",children:m.map(e=>(0,t.jsxs)("li",{className:"jsx-9ecc89a676f06070 list-group-item item bg-dark",children:[(0,t.jsx)(d.Z,{src:e.Poster,alt:e.Title,className:"img-fluid rounded",style:{height:"40px"}}),(0,t.jsx)("a",{href:"https://www.imdb.com/title/".concat(e.imdbID),className:"jsx-9ecc89a676f06070 text-decoration-none black",children:e.Title}),(0,t.jsx)(o.Z,{variant:"outline-danger",className:"ms-3 p-1",onClick:()=>N(e),children:"Remove"}),(0,t.jsx)(i(),{id:"9ecc89a676f06070",children:".black.jsx-9ecc89a676f06070{color:white;margin-left:10px}.black.jsx-9ecc89a676f06070:hover{color:red}li.jsx-9ecc89a676f06070:first-child{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}"})]},e.imdbID))})]})]})};s.Z=g},7980:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var t=r(5893),a=r(5141),i=r(1163),n=r.n(i),l=r(7294),c=r(6154),o=r(1330),d=r(5005);let h=e=>{let{handleAddToFavorites:s}=e,r=(0,i.useRouter)(),[a,n]=(0,l.useState)(null),[h,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=async()=>{try{let e=await c.Z.get("http://www.omdbapi.com/?apikey=".concat("6a9097c1","&i=").concat(r.query.id));n(e.data)}catch(e){console.error(e)}};e()},[r.query.id]);let u=()=>{a&&(s(a),m(a),x(!0))},m=e=>{let s=j();if(s){let r=s.some(s=>s.imdbID===e.imdbID);r||(s.push(e),localStorage.setItem("favorites",JSON.stringify(s)))}else localStorage.setItem("favorites",JSON.stringify([e]))},j=()=>{let e=localStorage.getItem("favorites");if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.error("Error parsing favorites list:",e)}return null};return a?(0,t.jsx)("div",{className:"container mt-4",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsx)(o.Z,{src:a.Poster,alt:a.Title,className:"img-fluid rounded"})}),(0,t.jsxs)("div",{className:"col-md-8",children:[(0,t.jsx)("h1",{children:a.Title}),(0,t.jsx)("p",{children:a.Year}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Director:"})," ",a.Director]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Genre:"})," ",a.Genre]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Runtime:"})," ",a.Runtime]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Plot:"})," ",a.Plot]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Rating:"})," ",a.Actors]}),(0,t.jsx)(d.Z,{className:"btn btn-dark",onClick:u,disabled:h,children:"Add to favorites"}),(0,t.jsx)("a",{href:"https://www.imdb.com/title/".concat(a.imdbID),target:"_blank",rel:"noopener noreferrer",className:"btn btn-dark ms-2",children:"View on IMDb"})]})]})}):(0,t.jsx)("p",{children:"Loading..."})},x=()=>{let[e,s]=(0,l.useState)([]),r=()=>{localStorage.removeItem("token"),n().push("/login")},i=e=>{s(s=>[...s,e])};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{handleLogOut:r,favorites:[]}),(0,t.jsx)(h,{handleAddToFavorites:i})]})};var u=x}},function(e){e.O(0,[445,433,790,774,888,179],function(){return e(e.s=3747)}),_N_E=e.O()}]);