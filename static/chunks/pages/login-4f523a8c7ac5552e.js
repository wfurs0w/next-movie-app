(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(8148)}])},8148:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return j}});var t=r(5893),s=r(7294),n=r(1163),l=r.n(n),i=r(8375),d=r(5005),o=r(357),c=r.n(o),f=r(1676);let u=e=>{let{setError:a,isRegistration:r=!1}=e,[n,i]=(0,s.useState)(""),[o,u]=(0,s.useState)(""),g=e=>{if(e.preventDefault(),r)localStorage.setItem("userData",JSON.stringify({email:n,password:o})),l().push("/login?success=true");else{let e=localStorage.getItem("userData");if(e){let{email:r,password:t}=JSON.parse(e);n===r&&o===t?(localStorage.setItem("isLoggedIn","true"),l().push("/search")):a("Incorrect email or password")}else a("No registration data found. Please register first.")}};return(0,t.jsxs)("div",{className:"jsx-15dc1d72fa5984f2 d-flex justify-content-center align-items-center h-100 body",children:[(0,t.jsxs)(f.Z,{onSubmit:g,className:"border-0 p-4 rounded bg-dark",children:[(0,t.jsxs)(f.Z.Group,{controlId:"formBasicEmail",children:[(0,t.jsx)(f.Z.Label,{className:"text-white",children:"Email address"}),(0,t.jsx)(f.Z.Control,{type:"email",placeholder:"Enter email",value:n,onChange:e=>i(e.target.value)})]}),(0,t.jsxs)(f.Z.Group,{className:"mt-2",controlId:"formBasicPassword",children:[(0,t.jsx)(f.Z.Label,{className:"text-white",children:"Password"}),(0,t.jsx)(f.Z.Control,{type:"password",placeholder:"Password",value:o,onChange:e=>u(e.target.value)})]}),(0,t.jsx)(d.Z,{className:"mt-3 w-100",variant:"primary",type:"submit",children:r?"Register":"Log In"})]}),(0,t.jsx)(c(),{id:"15dc1d72fa5984f2",children:".body.jsx-15dc1d72fa5984f2{background:-webkit-linear-gradient(45deg,#e6f2ff,#fff);background:-moz-linear-gradient(45deg,#e6f2ff,#fff);background:-o-linear-gradient(45deg,#e6f2ff,#fff);background:linear-gradient(45deg,#e6f2ff,#fff)}"})]})},g=e=>{let{setError:a}=e,[r,n]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[o,g]=(0,s.useState)(!1),h=e=>{e.preventDefault(),localStorage.setItem("userData",JSON.stringify({email:r,password:l})),g(!0)};return o?(0,t.jsx)(u,{setError:a,isRegistration:!1}):(0,t.jsxs)("div",{className:"jsx-15dc1d72fa5984f2 d-flex justify-content-center align-items-center vh-100 body",children:[(0,t.jsxs)(f.Z,{onSubmit:h,className:"border-0 p-4 rounded bg-dark",children:[(0,t.jsxs)(f.Z.Group,{controlId:"formBasicEmail",children:[(0,t.jsx)(f.Z.Label,{className:"text-white",children:"Email address"}),(0,t.jsx)(f.Z.Control,{type:"email",placeholder:"Enter email",value:r,onChange:e=>n(e.target.value)})]}),(0,t.jsxs)(f.Z.Group,{className:"mt-2",controlId:"formBasicPassword",children:[(0,t.jsx)(f.Z.Label,{className:"text-white",children:"Password"}),(0,t.jsx)(f.Z.Control,{type:"password",placeholder:"Password",value:l,onChange:e=>i(e.target.value)})]}),(0,t.jsx)(d.Z,{className:"mt-3 w-100",variant:"primary",type:"submit",children:"Register"})]}),(0,t.jsx)(c(),{id:"15dc1d72fa5984f2",children:".body.jsx-15dc1d72fa5984f2{background:-webkit-linear-gradient(45deg,#e6f2ff,#fff);background:-moz-linear-gradient(45deg,#e6f2ff,#fff);background:-o-linear-gradient(45deg,#e6f2ff,#fff);background:linear-gradient(45deg,#e6f2ff,#fff)}"})]})};var h=r(9008),m=r.n(h);let x=()=>{let e=(0,n.useRouter)(),[a,r]=(0,s.useState)(""),[l,o]=(0,s.useState)("true"===e.query.isRegistration),c=()=>o(!l);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m(),{children:(0,t.jsx)("title",{children:"Next TV"})}),(0,t.jsxs)("div",{className:"d-flex flex-column vh-100",children:[a&&(0,t.jsx)(i.Z,{variant:"danger",children:a}),(0,t.jsx)("div",{className:"text-center p-4 bg-dark text-white",children:l?(0,t.jsxs)(t.Fragment,{children:["Already have an account?"," ",(0,t.jsx)(d.Z,{variant:"primary",className:"link-button danger",onClick:c,children:"Log in here"})]}):(0,t.jsxs)(t.Fragment,{children:["Don't have an account yet?"," ",(0,t.jsx)(d.Z,{variant:"primary",className:"link-button",onClick:c,children:"Register here"})]})}),(0,t.jsx)("div",{className:"d-flex flex-column bg-dark",style:{height:"100vh",overflow:"hidden"},children:l?(0,t.jsx)(g,{setError:r}):(0,t.jsx)(u,{setError:r,isRegistration:!1})})]})]})};var j=x}},function(e){e.O(0,[433,5,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);